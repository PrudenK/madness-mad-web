---
import "../styles/global.css"
import "../styles/topbar.css"
import "../styles/mainContent.css"
import "../styles/card.css"

import TopBar from "../components/TopBar.astro"
import MainContent from "../components/MainContent.astro"
import Footer from "../components/Footer.astro"

const BASE = import.meta.env.BASE_URL
---

<!doctype html>
<html lang="es">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" />
	<link rel="icon" type="image/png" href={`${BASE}/logo_mm_sin_fondo_negro.png`} />
	<link rel="icon" type="image/png" href={`${BASE}/logo_mm_sin_fondo_blanco.png`} media="(prefers-color-scheme: dark)" />

	<title>MadnessMad</title>

	<script is:inline>
		window.addEventListener('DOMContentLoaded', () => {
			document.querySelectorAll('.card').forEach((card) => {
				const set = (e) => {
					const r = card.getBoundingClientRect()
					const x = ((e.clientX - r.left) / r.width) * 100
					const y = ((e.clientY - r.top) / r.height) * 100
					card.style.setProperty('--mx', x + '%')
					card.style.setProperty('--my', y + '%')
				}
				card.addEventListener('mousemove', set)
				card.addEventListener('mouseenter', set)
			})
		})
	</script>
</head>
<body>
<TopBar />
<MainContent />
<Footer />
<div class="page">
	<slot />
</div>
</body>
</html>
